# Score Visualizer

## Image

![全体像](image.png)

## How To Build (For Developer)

```bash
npm install
npm run build
# or "npm run build:dev"
```

## About

このビジュアライザは、ソルバーが算出した複数のペナルティ同士の関係性を図示するためのものです。
**input file** には以下の形式のデータを与えて下さい。

$$
    N M (Title Label_1 Label_2 ...  Label_M)\\
    P_{11} P_{12} ...  P_{1M} (C_1)\\
    P_{21} P_{22} ...  P_{2M} (C_2)\\
    P_{31} P_{32} ...  P_{3M} (C_3)\\
    ...\\
    ...\\
    P_{N1} P_{N2} ...  P_{NM} (C_N)\\
$$

ただし、

* $N$はデータの総数(int)
* $M$はペナルティの種類数(int)
* $Title,Label_i$はグラフの題名、及び、i番目に重要なペナルティの名前(string)(optional)
* $p_{ij}$はi番目のデータのj番目に重要なペナルティの値(int)
* $c_i$はi番目のデータの色付け(int)(optional)

とします。

---

このビジュアライザはPlotly.jsというライブラリを使用して作成されました。
グラフの右上に色々ボタンがあると思いますが、それらで視点移動などが可能です。
また、右側にある凡例は、クリックやダブルクリックで表示・非表示を切り替えられます。

また、3D/2Dという二種類の描画方式を用意しましたが、

* **3D** : 三次元散布図 描画対象が3つまでという制約があるが、同じ種類間の分布などを見るのに最適
* **2D** : 折れ線グラフ 種類の情報を図には反映させていないが、時系列的なスコア関数の描画が可能

という違いが存在します。

---

3Dモードでは、見やすさのため、

* Z軸に1番重要なペナルティ
* X軸に2番重要なペナルティ
* Y軸に3番重要なペナルティ

としています。

なので、下に位置するデータであればあるほど基本的には良い解となります。

---

gradientColorという機能を付けてみました。このチェックボックスにチェックすると、入力でcが与えられている場合、その値に比例して色が緑から赤へとグラデーションします。

---

いくつかのGUIから変更可能な要素の説明をします。

* 題名
  グラフの題名が変更できます。
* Cの表示範囲
  主に3D向けの機能ですが、Cで表されている色ごとの種類について、その表示範囲を変更できます。
* gradientColor(3D)
  3D専用の機能です。入力でCが与えられている場合、その値に比例して色が緑から赤へとグラデーションします。
* データの表示範囲
  Nで表されているデータの件数について、その表示範囲を変更できます。
* isSameScale(2D)
  2D専用の機能です。デフォルトでは折れ線グラフは縦軸がそれぞれで正規化されていますが、それを全体で統一された一つの縦軸にします。

---

バグや要望等があれば、hari64boli64まで。
